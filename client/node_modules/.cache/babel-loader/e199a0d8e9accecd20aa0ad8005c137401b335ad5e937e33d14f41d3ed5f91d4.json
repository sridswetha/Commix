{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { Component } from \"react\";\nvar InitialStyles = {\n  position: \"fixed\",\n  zIndex: -1,\n  top: 0,\n  left: 0,\n  width: 100 + \"vw\",\n  height: 100 + \"vh\"\n};\nvar CanvasBackground = /** @class */function (_super) {\n  __extends(CanvasBackground, _super);\n  function CanvasBackground(props) {\n    var _this = _super.call(this, props) || this;\n    _this.canvasA = React.createRef();\n    _this.canvasB = React.createRef();\n    _this.ctx = null;\n    _this.center = [];\n    _this.frameId = null;\n    _this.tick = 0;\n    return _this;\n  }\n  CanvasBackground.prototype.componentDidMount = function () {\n    this.createCanvas();\n    this.resize();\n    this.init();\n    this.startLoop();\n    window.addEventListener(\"resize\", this.resize.bind(this));\n  };\n  CanvasBackground.prototype.componentWillUnmount = function () {\n    if (this.frameId) {\n      window.cancelAnimationFrame(this.frameId);\n    }\n  };\n  CanvasBackground.prototype.init = function () {};\n  CanvasBackground.prototype.draw = function () {};\n  CanvasBackground.prototype.render = function () {\n    var userStyles = this.props.styles;\n    return React.createElement(React.Fragment, null, React.createElement(\"canvas\", {\n      ref: this.canvasA,\n      style: __assign(__assign({}, InitialStyles), userStyles)\n    }), React.createElement(\"canvas\", {\n      ref: this.canvasB,\n      style: __assign(__assign({}, InitialStyles), userStyles)\n    }));\n  };\n  CanvasBackground.prototype.createCanvas = function () {\n    if (this.canvasA.current && this.canvasB.current) {\n      this.ctx = {\n        a: this.canvasA.current.getContext(\"2d\"),\n        b: this.canvasB.current.getContext(\"2d\")\n      };\n    }\n    this.center = [];\n    this.tick = 0;\n  };\n  CanvasBackground.prototype.resize = function () {\n    var _a, _b;\n    var innerWidth = window.innerWidth,\n      innerHeight = window.innerHeight;\n    var ca = this.canvasA.current;\n    var cb = this.canvasB.current;\n    var ctxa = (_a = this.ctx) === null || _a === void 0 ? void 0 : _a.a;\n    var ctxb = (_b = this.ctx) === null || _b === void 0 ? void 0 : _b.b;\n    if (ca && cb && ctxa && ctxb) {\n      // Canvas A\n      ca.width = innerWidth;\n      ca.height = innerHeight;\n      ctxa.drawImage(cb, 0, 0);\n      // Canvas B\n      cb.width = innerWidth;\n      cb.height = innerHeight;\n      ctxb.drawImage(ca, 0, 0);\n      this.center[0] = 0.5 * ca.width;\n      this.center[1] = 0.5 * ca.height;\n    }\n  };\n  CanvasBackground.prototype.startLoop = function () {\n    if (this.frameId == null) {\n      this.frameId = window.requestAnimationFrame(this.initDraw.bind(this));\n    }\n  };\n  CanvasBackground.prototype.initDraw = function () {\n    this.draw();\n    this.frameId = window.requestAnimationFrame(this.initDraw.bind(this));\n  };\n  CanvasBackground.defaultProps = {\n    styles: InitialStyles\n  };\n  return CanvasBackground;\n}(Component);\nexport default CanvasBackground;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","Component","InitialStyles","position","zIndex","top","left","width","height","CanvasBackground","_super","props","_this","canvasA","createRef","canvasB","ctx","center","frameId","tick","componentDidMount","createCanvas","resize","init","startLoop","window","addEventListener","bind","componentWillUnmount","cancelAnimationFrame","draw","render","userStyles","styles","createElement","Fragment","ref","style","current","a","getContext","_a","_b","innerWidth","innerHeight","ca","cb","ctxa","ctxb","drawImage","requestAnimationFrame","initDraw","defaultProps"],"sources":["/Users/swey/Projects/Commix/client/node_modules/ambient-cbg-ts/lib/esm/components/CanvasBackground.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Component } from \"react\";\nvar InitialStyles = {\n    position: \"fixed\",\n    zIndex: -1,\n    top: 0,\n    left: 0,\n    width: 100 + \"vw\",\n    height: 100 + \"vh\",\n};\nvar CanvasBackground = /** @class */ (function (_super) {\n    __extends(CanvasBackground, _super);\n    function CanvasBackground(props) {\n        var _this = _super.call(this, props) || this;\n        _this.canvasA = React.createRef();\n        _this.canvasB = React.createRef();\n        _this.ctx = null;\n        _this.center = [];\n        _this.frameId = null;\n        _this.tick = 0;\n        return _this;\n    }\n    CanvasBackground.prototype.componentDidMount = function () {\n        this.createCanvas();\n        this.resize();\n        this.init();\n        this.startLoop();\n        window.addEventListener(\"resize\", this.resize.bind(this));\n    };\n    CanvasBackground.prototype.componentWillUnmount = function () {\n        if (this.frameId) {\n            window.cancelAnimationFrame(this.frameId);\n        }\n    };\n    CanvasBackground.prototype.init = function () { };\n    CanvasBackground.prototype.draw = function () { };\n    CanvasBackground.prototype.render = function () {\n        var userStyles = this.props.styles;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"canvas\", { ref: this.canvasA, style: __assign(__assign({}, InitialStyles), userStyles) }),\n            React.createElement(\"canvas\", { ref: this.canvasB, style: __assign(__assign({}, InitialStyles), userStyles) })));\n    };\n    CanvasBackground.prototype.createCanvas = function () {\n        if (this.canvasA.current && this.canvasB.current) {\n            this.ctx = {\n                a: this.canvasA.current.getContext(\"2d\"),\n                b: this.canvasB.current.getContext(\"2d\"),\n            };\n        }\n        this.center = [];\n        this.tick = 0;\n    };\n    CanvasBackground.prototype.resize = function () {\n        var _a, _b;\n        var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n        var ca = this.canvasA.current;\n        var cb = this.canvasB.current;\n        var ctxa = (_a = this.ctx) === null || _a === void 0 ? void 0 : _a.a;\n        var ctxb = (_b = this.ctx) === null || _b === void 0 ? void 0 : _b.b;\n        if (ca && cb && ctxa && ctxb) {\n            // Canvas A\n            ca.width = innerWidth;\n            ca.height = innerHeight;\n            ctxa.drawImage(cb, 0, 0);\n            // Canvas B\n            cb.width = innerWidth;\n            cb.height = innerHeight;\n            ctxb.drawImage(ca, 0, 0);\n            this.center[0] = 0.5 * ca.width;\n            this.center[1] = 0.5 * ca.height;\n        }\n    };\n    CanvasBackground.prototype.startLoop = function () {\n        if (this.frameId == null) {\n            this.frameId = window.requestAnimationFrame(this.initDraw.bind(this));\n        }\n    };\n    CanvasBackground.prototype.initDraw = function () {\n        this.draw();\n        this.frameId = window.requestAnimationFrame(this.initDraw.bind(this));\n    };\n    CanvasBackground.defaultProps = {\n        styles: InitialStyles,\n    };\n    return CanvasBackground;\n}(Component));\nexport default CanvasBackground;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}