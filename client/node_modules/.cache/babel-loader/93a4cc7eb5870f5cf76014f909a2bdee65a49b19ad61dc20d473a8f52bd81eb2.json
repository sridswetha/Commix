{"ast":null,"code":"var _jsxFileName = \"/Users/swey/Projects/Commix/client/src/shift.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { createNoise3D } from 'simplex-noise';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShiftBackground() {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n\n    // Constants and variables (same as before)\n    const {\n      PI,\n      cos,\n      sin,\n      abs,\n      sqrt,\n      pow,\n      random,\n      atan2\n    } = Math;\n    const TAU = 2 * PI;\n    const rand = n => random() * n;\n    const fadeInOut = (t, m) => {\n      let hm = 0.5 * m;\n      return abs((t + hm) % m - hm) / hm;\n    };\n    const circleCount = 150;\n    const circlePropCount = 8;\n    const circlePropsLength = circleCount * circlePropCount;\n    const baseSpeed = 0.1;\n    const rangeSpeed = 1;\n    const baseTTL = 150;\n    const rangeTTL = 200;\n    const baseRadius = 100;\n    const rangeRadius = 200;\n    const rangeHue = 60;\n    const xOff = 0.0015;\n    const yOff = 0.0015;\n    const zOff = 0.0015;\n    const backgroundColor = 'hsla(0,0%,5%,1)';\n    let circleProps = new Float32Array(circlePropsLength);\n    let simplex = createNoise3D();\n    let baseHue = 220;\n    function initCircle(i) {\n      let x = rand(canvas.width);\n      let y = rand(canvas.height);\n      let n = simplex(x * xOff, y * yOff, baseHue * zOff);\n      let t = rand(TAU);\n      let speed = baseSpeed + rand(rangeSpeed);\n      let vx = speed * cos(t);\n      let vy = speed * sin(t);\n      let life = 0;\n      let ttl = baseTTL + rand(rangeTTL);\n      let radius = baseRadius + rand(rangeRadius);\n      let hue = baseHue + n * rangeHue;\n      circleProps.set([x, y, vx, vy, life, ttl, radius, hue], i);\n    }\n    for (let i = 0; i < circlePropsLength; i += circlePropCount) {\n      initCircle(i);\n    }\n    function checkBounds(x, y, radius) {\n      return x < -radius || x > canvas.width + radius || y < -radius || y > canvas.height + radius;\n    }\n    function drawCircle(x, y, life, ttl, radius, hue) {\n      ctx.save();\n      ctx.fillStyle = `hsla(${hue},60%,30%,${fadeInOut(life, ttl)})`;\n      ctx.beginPath();\n      ctx.arc(x, y, radius, 0, TAU);\n      ctx.fill();\n      ctx.closePath();\n      ctx.restore();\n    }\n    function updateCircle(i) {\n      let i2 = i + 1,\n        i3 = i + 2,\n        i4 = i + 3,\n        i5 = i + 4,\n        i6 = i + 5,\n        i7 = i + 6,\n        i8 = i + 7;\n      let x = circleProps[i];\n      let y = circleProps[i2];\n      let vx = circleProps[i3];\n      let vy = circleProps[i4];\n      let life = circleProps[i5];\n      let ttl = circleProps[i6];\n      let radius = circleProps[i7];\n      let hue = circleProps[i8];\n      drawCircle(x, y, life, ttl, radius, hue);\n      life++;\n      circleProps[i] = x + vx;\n      circleProps[i2] = y + vy;\n      circleProps[i5] = life;\n      if (checkBounds(x, y, radius) || life > ttl) {\n        initCircle(i);\n      }\n    }\n    function updateCircles() {\n      baseHue++;\n      for (let i = 0; i < circlePropsLength; i += circlePropCount) {\n        updateCircle(i);\n      }\n    }\n    function render() {\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      updateCircles();\n      ctx.filter = 'blur(50px)';\n      ctx.drawImage(canvas, 0, 0);\n      ctx.filter = 'none';\n    }\n    let animationFrameId;\n    function draw() {\n      render();\n      animationFrameId = requestAnimationFrame(draw);\n    }\n\n    // Resize canvas to full window size\n    function resize() {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n    }\n    resize();\n    window.addEventListener('resize', resize);\n    draw();\n    return () => {\n      window.removeEventListener('resize', resize);\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      zIndex: -1\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n\n// Credits: https://tympanus.net/Development/AmbientCanvasBackgrounds/index3.html \n_s(ShiftBackground, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = ShiftBackground;\nvar _c;\n$RefreshReg$(_c, \"ShiftBackground\");","map":{"version":3,"names":["React","useEffect","useRef","createNoise3D","jsxDEV","_jsxDEV","ShiftBackground","_s","canvasRef","canvas","current","ctx","getContext","PI","cos","sin","abs","sqrt","pow","random","atan2","Math","TAU","rand","n","fadeInOut","t","m","hm","circleCount","circlePropCount","circlePropsLength","baseSpeed","rangeSpeed","baseTTL","rangeTTL","baseRadius","rangeRadius","rangeHue","xOff","yOff","zOff","backgroundColor","circleProps","Float32Array","simplex","baseHue","initCircle","i","x","width","y","height","speed","vx","vy","life","ttl","radius","hue","set","checkBounds","drawCircle","save","fillStyle","beginPath","arc","fill","closePath","restore","updateCircle","i2","i3","i4","i5","i6","i7","i8","updateCircles","render","clearRect","fillRect","filter","drawImage","animationFrameId","draw","requestAnimationFrame","resize","window","innerWidth","innerHeight","addEventListener","removeEventListener","cancelAnimationFrame","ref","style","position","top","left","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/swey/Projects/Commix/client/src/shift.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { createNoise3D } from 'simplex-noise';\r\n\r\nexport default function ShiftBackground() {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    // Constants and variables (same as before)\r\n    const { PI, cos, sin, abs, sqrt, pow, random, atan2 } = Math;\r\n    const TAU = 2 * PI;\r\n    const rand = n => random() * n;\r\n    const fadeInOut = (t, m) => {\r\n      let hm = 0.5 * m;\r\n      return abs((t + hm) % m - hm) / hm;\r\n    };\r\n    const circleCount = 150;\r\n    const circlePropCount = 8;\r\n    const circlePropsLength = circleCount * circlePropCount;\r\n    const baseSpeed = 0.1;\r\n    const rangeSpeed = 1;\r\n    const baseTTL = 150;\r\n    const rangeTTL = 200;\r\n    const baseRadius = 100;\r\n    const rangeRadius = 200;\r\n    const rangeHue = 60;\r\n    const xOff = 0.0015;\r\n    const yOff = 0.0015;\r\n    const zOff = 0.0015;\r\n    const backgroundColor = 'hsla(0,0%,5%,1)';\r\n\r\n    let circleProps = new Float32Array(circlePropsLength);\r\n    let simplex = createNoise3D();\r\n    let baseHue = 220;\r\n\r\n    function initCircle(i) {\r\n      let x = rand(canvas.width);\r\n      let y = rand(canvas.height);\r\n      let n = simplex(x * xOff, y * yOff, baseHue * zOff);\r\n      let t = rand(TAU);\r\n      let speed = baseSpeed + rand(rangeSpeed);\r\n      let vx = speed * cos(t);\r\n      let vy = speed * sin(t);\r\n      let life = 0;\r\n      let ttl = baseTTL + rand(rangeTTL);\r\n      let radius = baseRadius + rand(rangeRadius);\r\n      let hue = baseHue + n * rangeHue;\r\n\r\n      circleProps.set([x, y, vx, vy, life, ttl, radius, hue], i);\r\n    }\r\n\r\n    for (let i = 0; i < circlePropsLength; i += circlePropCount) {\r\n      initCircle(i);\r\n    }\r\n\r\n    function checkBounds(x, y, radius) {\r\n      return (\r\n        x < -radius ||\r\n        x > canvas.width + radius ||\r\n        y < -radius ||\r\n        y > canvas.height + radius\r\n      );\r\n    }\r\n\r\n    function drawCircle(x, y, life, ttl, radius, hue) {\r\n      ctx.save();\r\n      ctx.fillStyle = `hsla(${hue},60%,30%,${fadeInOut(life, ttl)})`;\r\n      ctx.beginPath();\r\n      ctx.arc(x, y, radius, 0, TAU);\r\n      ctx.fill();\r\n      ctx.closePath();\r\n      ctx.restore();\r\n    }\r\n\r\n    function updateCircle(i) {\r\n      let i2 = i + 1,\r\n        i3 = i + 2,\r\n        i4 = i + 3,\r\n        i5 = i + 4,\r\n        i6 = i + 5,\r\n        i7 = i + 6,\r\n        i8 = i + 7;\r\n\r\n      let x = circleProps[i];\r\n      let y = circleProps[i2];\r\n      let vx = circleProps[i3];\r\n      let vy = circleProps[i4];\r\n      let life = circleProps[i5];\r\n      let ttl = circleProps[i6];\r\n      let radius = circleProps[i7];\r\n      let hue = circleProps[i8];\r\n\r\n      drawCircle(x, y, life, ttl, radius, hue);\r\n\r\n      life++;\r\n\r\n      circleProps[i] = x + vx;\r\n      circleProps[i2] = y + vy;\r\n      circleProps[i5] = life;\r\n\r\n      if (checkBounds(x, y, radius) || life > ttl) {\r\n        initCircle(i);\r\n      }\r\n    }\r\n\r\n    function updateCircles() {\r\n      baseHue++;\r\n\r\n      for (let i = 0; i < circlePropsLength; i += circlePropCount) {\r\n        updateCircle(i);\r\n      }\r\n    }\r\n\r\n    function render() {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.fillStyle = backgroundColor;\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      updateCircles();\r\n      ctx.filter = 'blur(50px)';\r\n      ctx.drawImage(canvas, 0, 0);\r\n      ctx.filter = 'none';\r\n    }\r\n\r\n    let animationFrameId;\r\n    function draw() {\r\n      render();\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    }\r\n\r\n    // Resize canvas to full window size\r\n    function resize() {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    }\r\n    resize();\r\n    window.addEventListener('resize', resize);\r\n\r\n    draw();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resize);\r\n      cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: -1,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\n// Credits: https://tympanus.net/Development/AmbientCanvasBackgrounds/index3.html "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}