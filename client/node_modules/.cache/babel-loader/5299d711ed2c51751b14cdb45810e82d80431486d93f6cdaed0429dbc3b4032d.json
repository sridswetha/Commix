{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{createNoise3D}from'simplex-noise';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ShiftBackground(){const canvasRef=useRef(null);useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');// Constants and variables (same as before)\nconst{PI,cos,sin,abs,sqrt,pow,random,atan2}=Math;const TAU=2*PI;const rand=n=>random()*n;const fadeInOut=(t,m)=>{let hm=0.5*m;return abs((t+hm)%m-hm)/hm;};const circleCount=150;const circlePropCount=8;const circlePropsLength=circleCount*circlePropCount;const baseSpeed=0.1;const rangeSpeed=1;const baseTTL=150;const rangeTTL=200;const baseRadius=100;const rangeRadius=200;const rangeHue=60;const xOff=0.0015;const yOff=0.0015;const zOff=0.0015;const backgroundColor='hsla(0,0%,5%,1)';let circleProps=new Float32Array(circlePropsLength);let simplex=createNoise3D();let baseHue=220;function initCircle(i){let x=rand(canvas.width);let y=rand(canvas.height);let n=simplex(x*xOff,y*yOff,baseHue*zOff);let t=rand(TAU);let speed=baseSpeed+rand(rangeSpeed);let vx=speed*cos(t);let vy=speed*sin(t);let life=0;let ttl=baseTTL+rand(rangeTTL);let radius=baseRadius+rand(rangeRadius);let hue=baseHue+n*rangeHue;circleProps.set([x,y,vx,vy,life,ttl,radius,hue],i);}for(let i=0;i<circlePropsLength;i+=circlePropCount){initCircle(i);}function checkBounds(x,y,radius){return x<-radius||x>canvas.width+radius||y<-radius||y>canvas.height+radius;}function drawCircle(x,y,life,ttl,radius,hue){ctx.save();ctx.fillStyle=\"hsla(\".concat(hue,\",60%,30%,\").concat(fadeInOut(life,ttl),\")\");ctx.beginPath();ctx.arc(x,y,radius,0,TAU);ctx.fill();ctx.closePath();ctx.restore();}function updateCircle(i){let i2=i+1,i3=i+2,i4=i+3,i5=i+4,i6=i+5,i7=i+6,i8=i+7;let x=circleProps[i];let y=circleProps[i2];let vx=circleProps[i3];let vy=circleProps[i4];let life=circleProps[i5];let ttl=circleProps[i6];let radius=circleProps[i7];let hue=circleProps[i8];drawCircle(x,y,life,ttl,radius,hue);life++;circleProps[i]=x+vx;circleProps[i2]=y+vy;circleProps[i5]=life;if(checkBounds(x,y,radius)||life>ttl){initCircle(i);}}function updateCircles(){baseHue++;for(let i=0;i<circlePropsLength;i+=circlePropCount){updateCircle(i);}}function render(){ctx.clearRect(0,0,canvas.width,canvas.height);ctx.fillStyle=backgroundColor;ctx.fillRect(0,0,canvas.width,canvas.height);updateCircles();ctx.filter='blur(50px)';ctx.drawImage(canvas,0,0);ctx.filter='none';}let animationFrameId;function draw(){render();animationFrameId=requestAnimationFrame(draw);}// Resize canvas to full window size\nfunction resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}resize();window.addEventListener('resize',resize);draw();return()=>{window.removeEventListener('resize',resize);cancelAnimationFrame(animationFrameId);};},[]);return/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',zIndex:-1}});}// Credits: https://tympanus.net/Development/AmbientCanvasBackgrounds/index3.html","map":{"version":3,"names":["React","useEffect","useRef","createNoise3D","jsx","_jsx","ShiftBackground","canvasRef","canvas","current","ctx","getContext","PI","cos","sin","abs","sqrt","pow","random","atan2","Math","TAU","rand","n","fadeInOut","t","m","hm","circleCount","circlePropCount","circlePropsLength","baseSpeed","rangeSpeed","baseTTL","rangeTTL","baseRadius","rangeRadius","rangeHue","xOff","yOff","zOff","backgroundColor","circleProps","Float32Array","simplex","baseHue","initCircle","i","x","width","y","height","speed","vx","vy","life","ttl","radius","hue","set","checkBounds","drawCircle","save","fillStyle","concat","beginPath","arc","fill","closePath","restore","updateCircle","i2","i3","i4","i5","i6","i7","i8","updateCircles","render","clearRect","fillRect","filter","drawImage","animationFrameId","draw","requestAnimationFrame","resize","window","innerWidth","innerHeight","addEventListener","removeEventListener","cancelAnimationFrame","ref","style","position","top","left","zIndex"],"sources":["/Users/swey/Projects/Commix/client/src/shift.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { createNoise3D } from 'simplex-noise';\r\n\r\nexport default function ShiftBackground() {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    // Constants and variables (same as before)\r\n    const { PI, cos, sin, abs, sqrt, pow, random, atan2 } = Math;\r\n    const TAU = 2 * PI;\r\n    const rand = n => random() * n;\r\n    const fadeInOut = (t, m) => {\r\n      let hm = 0.5 * m;\r\n      return abs((t + hm) % m - hm) / hm;\r\n    };\r\n    const circleCount = 150;\r\n    const circlePropCount = 8;\r\n    const circlePropsLength = circleCount * circlePropCount;\r\n    const baseSpeed = 0.1;\r\n    const rangeSpeed = 1;\r\n    const baseTTL = 150;\r\n    const rangeTTL = 200;\r\n    const baseRadius = 100;\r\n    const rangeRadius = 200;\r\n    const rangeHue = 60;\r\n    const xOff = 0.0015;\r\n    const yOff = 0.0015;\r\n    const zOff = 0.0015;\r\n    const backgroundColor = 'hsla(0,0%,5%,1)';\r\n\r\n    let circleProps = new Float32Array(circlePropsLength);\r\n    let simplex = createNoise3D();\r\n    let baseHue = 220;\r\n\r\n    function initCircle(i) {\r\n      let x = rand(canvas.width);\r\n      let y = rand(canvas.height);\r\n      let n = simplex(x * xOff, y * yOff, baseHue * zOff);\r\n      let t = rand(TAU);\r\n      let speed = baseSpeed + rand(rangeSpeed);\r\n      let vx = speed * cos(t);\r\n      let vy = speed * sin(t);\r\n      let life = 0;\r\n      let ttl = baseTTL + rand(rangeTTL);\r\n      let radius = baseRadius + rand(rangeRadius);\r\n      let hue = baseHue + n * rangeHue;\r\n\r\n      circleProps.set([x, y, vx, vy, life, ttl, radius, hue], i);\r\n    }\r\n\r\n    for (let i = 0; i < circlePropsLength; i += circlePropCount) {\r\n      initCircle(i);\r\n    }\r\n\r\n    function checkBounds(x, y, radius) {\r\n      return (\r\n        x < -radius ||\r\n        x > canvas.width + radius ||\r\n        y < -radius ||\r\n        y > canvas.height + radius\r\n      );\r\n    }\r\n\r\n    function drawCircle(x, y, life, ttl, radius, hue) {\r\n      ctx.save();\r\n      ctx.fillStyle = `hsla(${hue},60%,30%,${fadeInOut(life, ttl)})`;\r\n      ctx.beginPath();\r\n      ctx.arc(x, y, radius, 0, TAU);\r\n      ctx.fill();\r\n      ctx.closePath();\r\n      ctx.restore();\r\n    }\r\n\r\n    function updateCircle(i) {\r\n      let i2 = i + 1,\r\n        i3 = i + 2,\r\n        i4 = i + 3,\r\n        i5 = i + 4,\r\n        i6 = i + 5,\r\n        i7 = i + 6,\r\n        i8 = i + 7;\r\n\r\n      let x = circleProps[i];\r\n      let y = circleProps[i2];\r\n      let vx = circleProps[i3];\r\n      let vy = circleProps[i4];\r\n      let life = circleProps[i5];\r\n      let ttl = circleProps[i6];\r\n      let radius = circleProps[i7];\r\n      let hue = circleProps[i8];\r\n\r\n      drawCircle(x, y, life, ttl, radius, hue);\r\n\r\n      life++;\r\n\r\n      circleProps[i] = x + vx;\r\n      circleProps[i2] = y + vy;\r\n      circleProps[i5] = life;\r\n\r\n      if (checkBounds(x, y, radius) || life > ttl) {\r\n        initCircle(i);\r\n      }\r\n    }\r\n\r\n    function updateCircles() {\r\n      baseHue++;\r\n\r\n      for (let i = 0; i < circlePropsLength; i += circlePropCount) {\r\n        updateCircle(i);\r\n      }\r\n    }\r\n\r\n    function render() {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.fillStyle = backgroundColor;\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n      updateCircles();\r\n      ctx.filter = 'blur(50px)';\r\n      ctx.drawImage(canvas, 0, 0);\r\n      ctx.filter = 'none';\r\n    }\r\n\r\n    let animationFrameId;\r\n    function draw() {\r\n      render();\r\n      animationFrameId = requestAnimationFrame(draw);\r\n    }\r\n\r\n    // Resize canvas to full window size\r\n    function resize() {\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n    }\r\n    resize();\r\n    window.addEventListener('resize', resize);\r\n\r\n    draw();\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', resize);\r\n      cancelAnimationFrame(animationFrameId);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        zIndex: -1,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\n// Credits: https://tympanus.net/Development/AmbientCanvasBackgrounds/index3.html "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}